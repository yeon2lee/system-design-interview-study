- 발표자 : 이나연
- 날짜 : 2024-03-13(수)
- 내용 : 1장. 사용자 수에 따른 규모 확장성

---
### 질문
> 1. 메시지 큐를 이용하면 서비스 또는 서버 간의 결합이 느슨해지는데, 이것에 대해 자세히 설명해주세요.

생산자 서비스와 소비자 서비스가 독립적으로 행동하게 됨으로써 서비스 혹은 시스템 간 결합도가 낮아집니다.

예를 들어, 회원가입이나 주문과 같은 작업은 가입한 시점/주문한 시점에 트리거되어 
유저에게 완료되었다는 안내 메시지를 보내거나 쿠폰을 발급하는 등 여러 동작들을 수행하는 경우가 많습니다. 

메시지 큐 사용 시 <br>
producer: 회원가입이나 주문을 처리하는 서버 <br>
consumer: 안내 메시지 전송, 쿠폰 발급을 처리하는 서버

이걸 Rest API에서 동기식으로 모두 처리한다면, 수행속도가 길어질 수 있습니다. 
또한, 쿠폰 발급에 실패했는데 가입 자체도 같이 실패하게 되는 등 장애 전파가 발생할 수 있습니다.

메시지 큐를 사용하면, 메시지를 enqueue한 후 응답을 기다리지 않고 다른 동작을 수행할 수 있어 
메시지 전송이나 쿠폰 발급에 얼마나 시간이 걸리든 영향을 받지 않을 수 있습니다. 

또한, consumer 서버에 장애가 발생하더라도 producer 쪽 서버에 영향이 없습니다. 
전달하려는 메시지도 큐에 남아있으므로 consumer 서버가 복구되고 나서 재전송할 수 있습니다.

<br>

> 2. 자동 로그인 시, 공유 저장소를 사용하시나요?

보통 local storage를 사용해서 구현했었습니다. 
보통은 보안 토큰을 사용하거나, 쿠키를 사용하여 구현하는 것 같습니다.

---
### 기타 논의사항